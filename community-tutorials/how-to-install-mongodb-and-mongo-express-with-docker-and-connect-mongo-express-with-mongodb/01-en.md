---
title: How to install MongoDB and Mongo Express with docker and connect Mongo Express with MongoDB
description: This tutorial describes how to install a MongoDB database and Mongo Express. Mongo Express is a web based administration tool for the MongoDB database. 
updated_at: 2021-11-10
slug: how-to-install-mongodb-and-mongo-express-with-docker-and-connect-mongo-express-with-mongodb
author_name: Patrick Weber
author_url: -
author_image: -
author_bio: -
tags: [debian, ubuntu]
netcup_product_url: https://www.netcup.de/vserver/vps.php
language: en
available_languages: en
---

# Introduction
This tutorial is about how to install MongoDB and Mongo Express with docker and connect Mongo Express with MongoDB.

# Requirements
First you need a virtual server with debian or ubuntu from netcup. This tutorial requires also the setup of docker and docker-compose. On the netcup-community-tutorials you find another tutorial how to setup docker and docker-compose on ubuntu.

# Step 1 - First check your docker and docker-compose version
Check the docker version: ```sudo docker --version```
Output should look like this, maybe with a different version or buildnumber: ```Docker version 20.10.10, build b485636```

Check the docker-compose version: ```docker-compose version```
Output should look like this, maybe with another version: ```Docker Compose version v2.1.0```

# Step 4 - Create a compose.yaml file, with MongoDB and Mongo Express
Create the file compose.yaml file with nano: ```nano ./compose.yaml```

```
services:
  mongodb:
    container_name: mongodb
    image: mongo:5.0.3
    environment:
      - MONGO_INITDB_DATABASE=mongodb
      - MONGO_INITDB_ROOT_USERNAME=mongouser
      - MONGO_INITDB_ROOT_PASSWORD=mongopasswd
    ports:
      - '27017:27017'
    volumes:
      - mongodb_volume:/data/db
    networks: 
      - mongo_backend_network

  mongo-express:
    container_name: mongo-express
    image: mongo-express:1.0.0-alpha.4
    depends_on:
      - db
    environment:
      - ME_CONFIG_MONGODB_SERVER=mongodb
      - ME_CONFIG_MONGODB_ADMINUSERNAME=mongouser
      - ME_CONFIG_MONGODB_ADMINPASSWORD=mongopasswd
      - ME_CONFIG_BASICAUTH_USERNAME=adminuser
      - ME_CONFIG_BASICAUTH_PASSWORD=adminpasswd
    ports:
      - '8081:8081'
    volumes: 
      - mongo_express_volume:/data/db
    networks: 
      - mongo_backend_network

volumes:
  mongodb_volume:
  mongo_express_volume:
networks:
  mongo_backend_network:
```

Save the compose.yaml file.

Here are two services defined: One for MongoDB and one for Mongo Express. Both services have a fixed container-name and both have its own volume. In the environments-definition you can see the credentials to access the services. The mongodb service will be exposed on port 27017 to the outside. Mongo Express will be exposed on port 8081 to the outside. The two services are using the same docker network "mongo_backend_network", which is also defined in the networks-definition. The expose of the port 27017 is not necessary, because mongo-express will use mongo_backend_network to connect to the mongodb. This is only needed if you want to connect from a application outside of the docker network, then you can use the host <your-server-ip>:27017 for a connection.

# Step 5 - Start all docker services
To start all docker services run: ```docker-compose up -d```
With the Parameter "-d" all services will start in detach-mode. That means, that all services runs in the background without blocking the command-line.

# Step 6 - Checking status of docker containers
Check the status of the docker containers with the command: ```docker ps -a```
The output should look like this:

```
CONTAINER ID   IMAGE                         COMMAND                  CREATED         STATUS         PORTS                                           NAMES
64eea9ca7a0f   mongo:5.0.3                   "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes   0.0.0.0:27017->27017/tcp, :::27017->27017/tcp   mongodb
8c525825faf6   mongo-express:1.0.0-alpha.4   "tini -- /docker-ent…"   2 minutes ago   Up 2 minutes   0.0.0.0:8081->8081/tcp, :::8081->8081/tcp       mongo-express
```

In this case the both services are running, both have the status "Up 2 minutes".

# Step 7 - Check logs of the containers
First check the logs of the mongodb container: ```docker logs mongodb```

The log should look like:
```
{"t":{"$date":"2021-11-10T22:00:31.237+00:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-27017.sock"}}
{"t":{"$date":"2021-11-10T22:00:31.237+00:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"0.0.0.0"}}
{"t":{"$date":"2021-11-10T22:00:31.237+00:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27017,"ssl":"off"}}
{"t":{"$date":"2021-11-10T22:00:31.297+00:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"172.18.0.3:48792","uuid":"5eb1e2c7-f54a-4686-a55b-945ce75e7b96","connectionId":1,"connectionCount":1}}
{"t":{"$date":"2021-11-10T22:00:31.309+00:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"172.18.0.3:48792","client":"conn1","doc":{"driver":{"name":"nodejs","version":"3.7.3"},"os":{"type":"Linux","name":"linux","architecture":"x64","version":"5.4.0-89-generic"},"platform":"'Node.js v12.22.7, LE (legacy)"}}}
{"t":{"$date":"2021-11-10T22:00:31.337+00:00"},"s":"I",  "c":"ACCESS",   "id":20250,   "ctx":"conn1","msg":"Authentication succeeded","attr":{"mechanism":"SCRAM-SHA-256","speculative":true,"principalName":"mongouser","authenticationDatabase":"admin","remote":"172.18.0.3:48792","extraInfo":{}}}
{"t":{"$date":"2021-11-10T22:01:31.233+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"Checkpointer","msg":"WiredTiger message","attr":{"message":"[1636581691:232977][1:0x7fca4e9d9700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 3, snapshot max: 3 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 21"}}
{"t":{"$date":"2021-11-10T22:02:31.249+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"Checkpointer","msg":"WiredTiger message","attr":{"message":"[1636581751:249677][1:0x7fca4e9d9700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 6, snapshot max: 6 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 21"}}
```

Then check the logs of the mongo-express container: ```docker logs mongo-express```
The log should look like:
```
Welcome to mongo-express
------------------------


(node:7) [MONGODB DRIVER] Warning: Current Server Discovery and Monitoring engine is deprecated, and will be removed in a future version. To use the new Server Discover and Monitoring engine, pass option { useUnifiedTopology: true } to the MongoClient constructor.
Mongo Express server listening at http://0.0.0.0:8081
Server is open to allow connections from anyone (0.0.0.0)
```

# Step 8 - Open Mongo Express in your browser
Open the url ```http://localhost:8081/``` in the browser.
Login with the credentials:
```
Username: adminuser
Password: adminpasswd
```

After you're successfull login you can create a new database with the input field "Database Name" and a click on the button "Create Database". After that, the new database will be displayed in the table above. With the green Button "View" you can open the databse in the ui. On this ui you can create a new collection, view a collection, change a collection or delete one existing collection.

# Step 9 - Stop and remove all services
If you don't need the MongoDB database and Mongo Express anymore, you can stop and remove the two services with one command.
Run ```docker-compose down``` in the command-line.

# Conclusion
You learned how to install MongoDB and Mongo Express with docker and connect Mongo Express with MongoDB.
Mongo Express makes it easy to administrate the database with a webbased ui. You only need a browser for administration. For your local development that is quiet helpful.

# License
MIT

# Contributor's Certificate of Origin
Contributor's Certificate of Origin By making a contribution to this project, I certify that:

 1) The contribution was created in whole or in part by me and I have the right to submit it under the license indicated in the file; or

 2) The contribution is based upon previous work that, to the best of my knowledge, is covered under an appropriate license and I have the right under that license to submit that work with modifications, whether created in whole or in part by me, under the same license (unless I am permitted to submit under a different license), as indicated in the file; or

 3) The contribution was provided directly to me by some other person who certified (a), (b) or (c) and I have not modified it.

 4) I understand and agree that this project and the contribution are public and that a record of the contribution (including all personal information I submit with it, including my sign-off) is maintained indefinitely and may be redistributed consistent with this project or the license(s) involved.

Signed-off-by: Patrick Weber netcup_wiki@icloud.com
