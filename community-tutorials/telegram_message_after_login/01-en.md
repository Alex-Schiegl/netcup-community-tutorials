---
title: Setup and Usage of a Simple SSH Proxy
description: Learn how to set up a simple SSH proxy and use it as jump host or SOCKS proxy.
level: [beginner, intermediate, advanced] (leave appropriate level only)
updated_at: 2021-10-21
slug: ssh-proxy-setup-and-usage
author_name: Michael Luckas
author_url: https://github.com/extremmichi/
author_image: -
author_bio: -
tags: [shell, ssh, linux] 
netcup_product_url: https://www.netcup.eu/bestellen/produkt.php?produkt=2991
language: en
available_languages: [de, en]
---
# Introduction

In this tutorial you will learn how to get messages on telegram after login.

I am doing this on a Debian  but the installations should also work on other Debian versions.


## Requirements

You need a running vServer or root server from netcup.

## Step 1 - Apply existing DNS servers
Wir installieren uns einfach die App Telegram auf unserem Smartphone
und starten die Telegramm-App.
Anschliessend suchen wir in den Kontakten nach dem User botfather.
Wir erstellen uns nun unseren eigenen Bot indem wir dem botfather
folgende Nachricht senden:

    /newbot

     

 
Botfather fragt uns dann nach einen Namen für den Bot. Die Namensgestaltung
ist hier völlig frei. Danacht fragt er uns nach einen Usernamen für den Bot.
Hier sollte darauf geachtet werden , dass der Name mit _bot endet.
Für unseren Test hier nutze ich diese Namen:

 

    Superduperbot für den Bot
    Superduperbot_bot für den Usernamen

     

Botfather erstellt uns nun unseren eigenen Bot und generiert uns ein
s.g. Token, den ihr euch unbedingt aufschreiben solltet.
unser Token lautet beispielsweise:

    123456090:GDGSWNJqAp-voDqFYrAw0iq2Uoc8nuMu5fs

     

Nun suchen wir unseren eben erstellten Bot in der Kontaktliste.
Kontakte->suchen Superduperbot und starten ihn durch einen Klick auf starten oder schreiben ihm eine Nachricht

    /start

     

Nun ist unser Bot in unseren Kontakten und wir können Nachrichten von ihm empfangen.
Aber da der Bot uns noch nicht kennt, müssen wir uns ihm erstmal bekannt machen.
Dazu schreiben wir ihm ein oder zwei Nachrichten mit irgendwelchem Inhalt.
Es hann also ein einfaches "Hallo Bot" sein. und ein "wie gehts?"
Nun fragen wir als Bot ab ob es neue Nachrichten gibt, damit wir unsere eigene Telegram_ID erhalten.
Dies können wir einfach über den Browser machen. Dazu geben wir in der Adressleiste folgendes ein:

    https://api.telegram.org/bot[TOKEN]/getUpdates

     

[TOKEN] ersetzt ihr dabei durch den Token, den ihr vom botfather erhalten habt und euch vorhin notiert habt
also in etwa so:

    https://api.telegram.org/bot123456090:GDGSWNJqAp-voDqFYrAw0iq2Uoc8nuMu5fs/getUpdates.

     

Alternativ, wenn ihr Linux benutzt und curl installiert habt,
könnt ihr das auch mit curl abfragen

    curl -X POST https://api.telegram.org/bot123456090:GDGSWNJqAp-voDqFYrAw0iq2Uoc8nuMu5fs/getUpdates

     

Als Antwort bekommt ihr dann eine kleine Liste mit Daten.
für uns ist nur die Zahl hinter chat":{"id" wichtig,
denn das ist unser Telegramaccount

    ........."chat":{"id":123456789,"first_name":"my_first_name".......

     

Nun , da wir wissen wohin wir die Nachricht schicken können, erstellen wir
und ein kleines Script unter /etc/profile.d mit dem Namen telegram_message_on_login.sh
denn alles was dort an Scripten liegt, wird bei jedem Login ausgeführt, also auch unser Script.

    nano /etc/profile.d/telegram_message_on_login.sh

     

    #!/bin/bash

    TOKEN="123456090:GDGSWNJqAp-voDqFYrAw0iq2Uoc8nuMu5fs"
    ID="123456789"
    HOSTNAME=$(hostname -f)
    DATE="$(date +"%d.%b.%Y--%H:%M")"
    MESSAGE=" $USER hat sich am $DATE auf $HOSTNAME angemeldet!!"
    URL="https://api.telegram.org/bot$TOKEN/sendMessage"

    curl -s -X POST $URL -d chat_id=$ID -d text="$MESSAGE" >/dev/null

     

anschliessend machen wir das script ausführbar

    chmod +x /etc/profile.d/telegram_message_on_login.sh

     

So das wars!!
