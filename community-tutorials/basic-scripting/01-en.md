---
title: Learn basic scripting
description: How to do basic POSIX and Bash scripting in Linux
updated_at: 2021-11-04
slug: learn-basic-scripting
author_name: Patrick Zwick
author_url: https://github.com/patri9ck
author_image: https://avatars.githubusercontent.com/u/48688816?v=4
author_bio: 
tags: scripting, bash, posix, linux
netcup_product_url: https://www.netcup.de/bestellen/produkt.php?produkt=2000
language: en
available_languages: en
---

# Introduction
In this tutorial, we will see how we can write basic POSIX compatible scripts.

# Requirements
- A server
- A text editor (for example Nano or Vim)

# Basics
## The Shebang
Every first line of a script starts with the shebang. It specifies the path of the intepreter.
For example:
```
#!/bin/bash
```
Or:
```
#!/bin/sh
```
Those are the most common shebangs you will see. The difference between them is that the first script uses Bash as its intepreter while the other one is POSIX compatible and will run with every POSIX compatible shell like Bash. `/bin/sh` scripts have the advantage that they will run on most systems while `/bin/bash` scripts only work with Bash but can use Bash extensions. This tutorial will focus on POSIX compatible scripts.
**In the following examples, the shebang will be ommited but in your actual scripts, it should always be present.**
## Executing commands
A script is basically nothing more than a list of commands:
```
echo Hello World
echo This is a tutorial about scripting
```
## Comments
Comments are ignored by the intepreter and can be used to clarify things. They can be created by writing a `#` before the message:
```
# This comment will be ignored by the interpreter

# The following command will echo something
echo Hello World
```
## Variables
Variables hold values and can be created like this:
```
var="A variable"
second_var="A second variable"
```
The contents of a variable can be accessed this way:
```
# Prints "A variable"
echo "$var"
```
(The `"` can be ommitted in some cases but it is recommend to add them to avoid problems)
### Setting the command output to a variable
The value of a variable can be the output (STDOUT) of a command.
```
# The value of "var" is the output of the command "cat file".
var=$(cat file)
```
## If statements
### About commands
Every command has an exit code. It is either 0 (everything is fine) or something other than 0 (something went wrong). In If statements, we execute commands. If its exit code is 0, the if statement is true and if not, it is false.

### Syntax
```
if <COMMAND>
then
	<COMMAND>
    <COMMAND>
	...
fi
```
So let's take a look at this example:
```
if ping -c 1 -W 3 8.8.8.8
then
	echo There is an active internet connection
fi
```
If the ping to `8.8.8.8` is successful, the message will be printed. We can also print another message if there is not an internet connection. So let's add an `else` statement:
```
if ping -c 1 -W 3 8.8.8.8
then
	echo "There is an active internet connection"
else
	echo T"here is not an active internet connection"
fi
```
### Comparing numbers
If we want to compare numbers, there isn't an actual program. We will need to use our shell features:
```
first_var="1"
second_var="2"

if [ $first_var -gt $second_var ]
then
	echo "The first number is greater than the second"
else
	echo "The first number is not greater than the second"
fi
```
`[ $first_var -gt $second_var ]` is actually nothing more than a command provied by our shell. Its exit code is 0 if `first_var` is greater than `second_var` or 1 if that isn't the case. So in general, `-gt` checks whether the first variable is greater than the second. Of course, there are other checks as well:
- `-gt`: Second number is greater than the second number
- `-ge`: First number is greater than or equal the second number
- `-lt`: First number is smaller than the second number
- `-le`: First number is smaller than or equal the second number
- `-eq`: Both numbers are the same
### Else If Statements
When comparing two numbers, there can be three cases:
- The first number is greater than the second
- Both numbers are the same
- The second number is greater than the first
In a script, we can check these conditions with an `if`, an `elif` and an `else` statement:
```
first_var="1"
second_var="2"

if [ $first_var -gt $second_var ]
then
	echo "The first number is greater than the second"
elif [ $first_var -eq $second_var ]
	echo "Both numbers are the same"
else
	echo "The second number is greater than the first"
fi
```
### Negating If Statements
If statements can be negated using `!`, which means that the if statement will be true if it is actually false and the other way around:
```
first_var="1"
second_var="2"

# This if statement will be true if the first number is not greater than the second number.
if ! [ $first_var -gt $second_var ]
then
	echo "The second number is greater than the first or both numbers are the same"
fi
```
### String Comparison
Strings can be compared like this:
```
first_var="hello"
second_var="hello"

if [ "$first_var" = "$second_var" ]
then
	echo "The first string is the same as the second"
fi
```
Note the `"`: They are not needed when numbers are compared but when strings are compared, they must be included.
### Comparing the Output of Commands
Let's compare the content of two files:
```
if [ "$(cat file1)" = "$(cat file2)" ]
then
	echo "file1 and file2 have the same contents"
fi
```