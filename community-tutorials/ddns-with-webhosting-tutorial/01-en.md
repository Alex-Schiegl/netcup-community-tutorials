---
title: DDNS with Webhosting
description: How to setup a dynamic DNS with netcup webhosting and domain
updated_at: 2021-10-20
slug: ddns-with-webhosting
author_name: Jewgeni Lewash
author_url: -
author_image: -
author_bio: -
tags: ddns, webhosting, domain
netcup_product_url: https://www.netcup.de/bestellen/produkt.php?produkt=2227
language: en
available_languages: en
---

# Introduction
This tutorial will show you how to set up a DynDNS for a connected domain using a webhosting plan from Netcup. For example, you can use this to link a domain to your home network, even if the IP address changes daily.

# Requirements

* Any webhosting plan from Netcup
* A domain connected to this webhosting
* A device on the target network that can call a URL at regular intervals with the current IP-Adress (for example, a router such as Fritz!Box or any other device that can execute a bash script). It is not necessary that this device must be able to handle PHP or similar.

# Step 1 - Activate Netcup API
After a web hosting plan with domain is created, the API must be activated in the CCP. You will need an API key and an API password. You can generate these in "Master Data --> API".

![master data in netcup customer control panel](./images/api.png)

# Step 2 - Add a new DNS record to domain
The second step is to add a new dns record to the domain, which will be used as the update url. In the domain settings you choose the domain and switch to the DNS settings.

First you could set the TTL to a smaller number like 300 to be able to update the domain faster. Then you add a new A record with the standard destition of the webhosting product. You can name the host however you want. In my example I used "ddns".

![domain dns](images/domaindns.png)

# Step 3 - Create subdomain in Plesk
Now it is time to switch to Plesk. You can open it through the products menu.

![pruducts menu](images/products.png)

There you can add a new subdomain.

![add subdomain button](images/addsubdomain.png)

Choose the hostname like before and the right domain.

![name subdomain](images/namesubdomain.png)

In the settings of the new subdomain you can add a ssl certificate with Let's Encrypt.

![add lets encrypt to subdomain](images/letsencrypt.png)

# Step 4 - Add script to subdomain

[Felix Kretschmer](https://github.com/fernwerker "Github Account of Fernwerker") wrote a:
>Self-hosted dynamic DNS php script to update netcup DNS API from Router like AVM FRITZ!Box

You have to [download](https://github.com/fernwerker/ownDynDNS) the script.

![download script](images/fernwerkerownDynDNS.png)

After unziping you can upload the whole direction into the document root of the subdomain with the file manager. You should rename the "htaccess.example" into "htaccess". Afterwards you have to fill in the correct credentials in the ".env.dist" file and save it as ".env". You can choose anything as username and password, this is *not* your netcup username and password. Your filemanager should look something like this:

![file manager](images/filemanager.png)

# Step 5 - Call the url
The last thing you have to do is to call the setup url.

```https://ddns.mydomain.de/update.php?user=<username>&password=<pass>&ipv4=<ipaddr>&ipv6=<ip6addr>&domain=<domain>```

If you have a Fritz!Box you can fill username, password and domain into the dyndns form:

![fritz!box menu](images/fritzbox.png)

With another device you maybe have to use the [bash script](https://github.com/fernwerker/ownDynDNS/blob/master/examples/update-dyndns.sh).

# Conclusion
By doing this, all subdomains (except the one where the script is located) will now be routed to the target network every time the script is executed.

# License
MIT

# Contributor's Certificate of Origin
Contributor's Certificate of Origin By making a contribution to this project, I certify that:

 1) The contribution was created in whole or in part by me and I have the right to submit it under the license indicated in the file; or

 2) The contribution is based upon previous work that, to the best of my knowledge, is covered under an appropriate license and I have the right under that license to submit that work with modifications, whether created in whole or in part by me, under the same license (unless I am permitted to submit under a different license), as indicated in the file; or

 3) The contribution was provided directly to me by some other person who certified (a), (b) or (c) and I have not modified it.

 4) I understand and agree that this project and the contribution are public and that a record of the contribution (including all personal information I submit with it, including my sign-off) is maintained indefinitely and may be redistributed consistent with this project or the license(s) involved.

Signed-off-by: Jewgeni Lewash (j.lewash@gmail.com)
